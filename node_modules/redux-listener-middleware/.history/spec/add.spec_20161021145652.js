/* eslint-env jest */

const createStore = require('redux').createStore;
// import { createStore } from 'redux';

const reducer = (state = 0, action) => {
  console.log(state, action)
  if (action.type === 'INCREMENT') {
    return state + 1;
  } else {
    return state;
  }
};

const increment = { type: 'INCEREMENT' };

describe('middleware setup', () => {
  it('has set up the test runner correctly', () => {
    expect(true).toBeTruthy();
  });

  it('has initialized redux', (done) => {
    const store = createStore(reducer);
    console.log(store.getState());
    store.dispatch(increment);

    store.subscribe(() => {
      console.log(store.getState());    
      expect(store.getState()).toEqual(1);
      done();
    });

  });
});
