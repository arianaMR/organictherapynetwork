/* eslint-env jest */

const createStore = require('redux').createStore;
// import { createStore } from 'redux';

const reducer = (state = 0, action) => {
  console.log(state, action);
  if (action.type === 'INCREMENT') {
    console.log('inside');
    return state + 1;
  } else {
    return state;
  }
};

const increment = { type: 'INCEREMENT' };

describe('middleware setup', () => {
  it('has set up the test runner correctly', () => {
    expect(true).toBeTruthy();
  });

  it('has initialized redux', (done) => {
    const store = createStore(reducer);

    store.subscribe(() => {
      console.log('callback', store.getState());
      expect(store.getState()).toEqual(1);
      done();
    });

    store.dispatch(increment);
  });
});
