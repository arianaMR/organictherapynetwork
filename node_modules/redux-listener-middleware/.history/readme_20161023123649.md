# Redux Listener Middleware

A Redux middleware that acts as a gerneral listener on actions
that are dispatched to the Redux store.

## installing the middleware

```js
import { middleware } from 'redux-interceptor';

const store = createStore( //redux default
  reducer, // retrieve the rule based reducer from the package
  applyMiddleware(
    thunk, // other middleware probably should be chained BEFORE the interceptor
    middleware // interceptor middleware
  )
);
```

## request resources with resource interceptor

```js

// fetch interceptor
const interceptor = createInterceptor('fetch', (type, payload, dispatch) => {
  dispatch({type: 'add-loading:' + type})
  fetch(payload.url, payload)
    .then(res => res.json())
    .then(data => dispatch({type:'remove-loading:' + type}) && dispatch({type:'result:' + type, payload: data}));
});

interceptor.addRule('get:user',  action => `/api/users/${action.payload.id}`);
dispatch({
  type: 'get:user',
  payload: {
    id: 1
  }
});


```
